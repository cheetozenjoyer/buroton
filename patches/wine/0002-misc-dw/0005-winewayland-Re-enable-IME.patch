From 6842a469f9474a123a6d5e1dbf843645a4ec90f4 Mon Sep 17 00:00:00 2001
From: Etaash Mathamsetty
 <45927311+Etaash-mathamsetty@users.noreply.github.com>
Date: Sun, 1 Feb 2026 23:56:15 -0600
Subject: [PATCH 05/12] winewayland: Re-enable IME.

---
 dlls/winewayland.drv/wayland.c | 18 ------------------
 1 file changed, 18 deletions(-)

diff --git a/dlls/winewayland.drv/wayland.c b/dlls/winewayland.drv/wayland.c
index e0c46948619..98a62583f0e 100644
--- a/dlls/winewayland.drv/wayland.c
+++ b/dlls/winewayland.drv/wayland.c
@@ -86,23 +86,6 @@ static const struct wl_seat_listener seat_listener =
     wl_seat_handle_name
 };
 
-static BOOL check_ime_disabled(void)
-{
-    static volatile int cached = -1;
-
-    if (cached == -1)
-    {
-        const char *env = getenv("WAYLANDDRV_NO_IME");
-
-        if (env && !strcmp(env, "1"))
-            cached = 1;
-        else
-            cached = 0;
-    }
-
-    return cached;
-}
-
 /**********************************************************************
  *          Registry handling
  */
@@ -193,7 +176,6 @@ static void registry_handle_global(void *data, struct wl_registry *registry,
     }
     else if (strcmp(interface, "zwp_text_input_manager_v3") == 0)
     {
-        if (check_ime_disabled()) return;
         process_wayland.zwp_text_input_manager_v3 =
             wl_registry_bind(registry, id, &zwp_text_input_manager_v3_interface, 1);
         if (process_wayland.seat.wl_seat) wayland_text_input_init();
-- 
2.53.0

